package com.Telegram.bot;
import org.telegram.telegrambots.meta.api.methods.send.SendMessage;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import org.telegram.telegrambots.meta.exceptions.TelegramApiException;


public class Semisters extends B {
    Connection con;
    
    public Semisters(Connection con)
    {
    	this.con=con;
    }

    public void Sem1(long chat_id, String id) {
        Connection con;
        try {
            
            String query = "SELECT * FROM sem1 WHERE ID=?";
            PreparedStatement pst = con.prepareStatement(query);
            pst.setString(1, id);
            ResultSet rs = pst.executeQuery();
            if (rs.next()) {
                String ids = rs.getString("ID");
                String m1 = rs.getString("mathematics1");
                String eng = rs.getString("english");
                String che = rs.getString("chemistry");
                String fc = rs.getString("fcs");
                String ed = rs.getString("ed");
                String eng_l = rs.getString("eng_lab");
                String che_l = rs.getString("che_l");
                String fc_lab = rs.getString("fc_lab");
                String combinedMessage ="ID"+ids + "\n" +"Mathematics 1"+ m1 + "\n" +"English"+ eng + "\n"+"Chemistry" + che + "\n"+"Fundementals of C.S" + fc + "\n" +"Engineering Drawing"+ ed + "\n"
                        +"English Lab"+ eng_l + "\n"+"Chemistry lab" + che_l + "\n" +"FCS Lab"+ fc_lab;
                SendMessage message = new SendMessage();
                message.setChatId(chat_id);
                message.setText(combinedMessage);
                try {
                    execute(message);
                } catch (TelegramApiException e) {
                    e.printStackTrace();
                }
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}
